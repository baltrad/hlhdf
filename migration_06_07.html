<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HL-HDF: Migration Guide from 0.6 to 0.7+</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HL-HDF
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',false,false,'search.php','Search',false);
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Migration Guide from 0.6 to 0.7+</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>We have had quite a few deprecated functions that has been hanging around for a while.</p>
<p>Now, when HDF5 1.8.x was released and they altered some functions we have taken the opportunity to do a major restructure of HL-HDF. Most of the deprecated functions has been removed and we have changed the naming convention for most of the functions to keep a consistent naming. If, for some reason you find that you are missing a nessecary function and can not use the functions that are published, please let us know and we will attempt to implement a corresponding function.</p>
<h1><a class="anchor" id="mig0607_header_files"></a>
Header files</h1>
<p>Firstly, we only require that you are including one file to get access to most of the functionality. </p><pre class="fragment">#include &lt;hlhdf.h&gt;
</pre><p> This file will include all other relevant files so you will not have to include several header files.</p>
<p>The following files has been removed and relevant functionality has been moved into other files. Use <b><a class="el" href="hlhdf_8h.html" title="Common functions for working with an HDF5 file through the HL-HDF API.">hlhdf.h</a></b> instead. </p><ul>
<li><b>display_hlhdf.h</b>, if you want to print information about a hdf5 file, either use h5dump or print the node list manually </li>
<li><b>read_hlhdf.h</b> </li>
<li><b>read_vhlhdf.h</b> </li>
<li><b>update_vhlhdf.h</b> </li>
<li><b>vhlhdf.h</b> </li>
<li><b>write_hlhdf.h</b> </li>
<li><b>write_vhlhdf.h</b></li>
</ul>
<h1><a class="anchor" id="mig0607_removed_functions"></a>
Removed or renamed functions</h1>
<p>Some functions really do not have any meaning that we support since they easilly are performed by using the HDF5 apis instead. Other functions might only have been renamed to keep a consistent naming scheme or might be superfluent.</p>
<ul>
<li>doWriteHdf5Xxxx functions has been removed, they should not be accessed manually. It is up to HLNodeList_write </li>
<li>createHlHdfFile signature has been removed </li>
<li>addNode has been renamed to <a class="el" href="group__hlhdf__c__apis.html#gac538551955dba406ea481e300942178b">HLNodeList_addNode</a> </li>
<li>getNode has been renamed to <a class="el" href="group__hlhdf__c__apis.html#ga93a9398f70352eeb92288028862c48fc">HLNodeList_getNodeByName</a> </li>
<li>updateNodeList has been renamed to <a class="el" href="group__hlhdf__c__apis.html#ga95f96d2a2a033138a05a037278a2832a">HLNodeList_update</a> </li>
<li>writeNodeList has been removed, use <a class="el" href="group__hlhdf__c__apis.html#gaf0e7dfaf6ac5f20763be5053a004eb20">HLNodeList_write</a> instead. Same behaviour can be achieved by writing <pre class="fragment">HL_Compression compr;
initHL_Compression(&amp;compr, CT_ZLIB);
compr.level = doCompress;
writeHL_NodeList(nodelist, NULL, &amp;compr);
</pre></li>
</ul>
<ul>
<li>Macro ALIGN has been renamed to <a class="el" href="hlhdf__defines__private_8h.html#a8d682753d3a8f1fcb33a9fc75cf2e815">HLHDF_ALIGN</a> </li>
<li>closeDataset has been removed, use H5Dclose instead </li>
<li>closeGroup has been removed, use H5Gclose instead </li>
<li>addCompoundTypeAttribute has been renamed to <a class="el" href="group__hlhdf__c__apis.html#gab17149fe08bc2f4d201859c6ec04d421">addHL_CompoundTypeAttribute</a> </li>
<li>copyCompoundTypeDescription has been renamed to <a class="el" href="group__hlhdf__c__apis.html#gaff4fa14861b64f0fc58da2c727c121b3">copyHL_CompoundTypeDescription</a> </li>
<li>setScalarValue has been renamed to <a class="el" href="group__hlhdf__c__apis.html#gaee8c7bf94a0673f9728ecf473861d295">HLNode_setScalarValue</a> </li>
<li>setArrayValue has been renamed to <a class="el" href="group__hlhdf__c__apis.html#gaab1eb66516fa9f35af5b72480d27476d">HLNode_setArrayValue</a> </li>
<li>scanNodeList has been removed </li>
<li>scanCompoundTypeDescription has been removed </li>
<li>commitDatatype has been renamed to <a class="el" href="group__hlhdf__c__apis.html#ga5b5cc771aa6f3ee72d78e85c258ce6dd">HLNode_commitType</a> (and deprecated) </li>
<li>findCompoundTypeDescription has been renamed to <a class="el" href="group__hlhdf__c__apis.html#ga27dc1377f0c763b6a5c229f23e818913">HLNodeList_findCompoundDescription</a> </li>
<li>createGroup has been removed. Same behaviour can be achieved by using H5G apis. </li>
<li>setTypeSize has been removed, use H5Tset_size instead. </li>
<li>createStringType has been removed, use H5T apis instead, same behaviour can be achieved by writing <pre class="fragment">type = H5Tcopy(H5T_C_S1);
H5Tset_size(type,length);
</pre> </li>
<li>closeHlHdfFile has been removed, use H5Fclose instead.</li>
</ul>
<h1><a class="anchor" id="mig0607_upgrade_script"></a>
Upgrade script</h1>
<p>We have added a very simple upgrade script that will help you with the renaming of the .c and .h files. It is called &lt;HLHDF src&gt;/scripts/upgrade_0_7plus.sh and there is also a perl script called &lt;HLHDF src&gt;/scripts/rename_functions.pl.</p>
<p>To use upgrade_0_7plus.sh script, go to the root directory of your source code and execute: </p><pre class="fragment">%&gt; &lt;HLHDF src&gt;/scripts/upgrade_0_7plus.sh
</pre><p> This will locate all .h and .c files in this directory and downwards in the directory structure and rename the old HLHDF functions into the new naming convention.</p>
<p>If you want to play it safe, it is also possible to use the perl script instead and perform the name conversion manually. </p><pre class="fragment">%&gt; perl &lt;HLHDF src&gt;/scripts/rename_functions.pl &lt;the file name to be translated&gt;
</pre><p> This command will perform the translation and print the translated file to stdout.</p>
<p><b> NOTE!!! We do not take any reponsibility for any damage that these scripts might cause since it is a very basic renaming code. Before running this script make sure that you have got a copy of the source code that you are planning to migrate. </b> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
